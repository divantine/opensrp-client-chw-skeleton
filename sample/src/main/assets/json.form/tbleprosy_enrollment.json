{
  "count": "1",
  "encounter_type": "tbleprosy Enrollment",
  "entity_id": "",
  "metadata": {
    "start": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "start",
      "openmrs_entity_id": "163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "end": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "end",
      "openmrs_entity_id": "163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "deviceid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "deviceid",
      "openmrs_entity_id": "163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "subscriberid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "subscriberid",
      "openmrs_entity_id": "163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "simserial": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "simserial",
      "openmrs_entity_id": "163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "phonenumber": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "phonenumber",
      "openmrs_entity_id": "163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "encounter_location": ""
  },
  "step1": {
    "title": "TBLeprosy",
    "fields": [
      {
        "key": "screen_for_tb_or_leprosy",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "screen_for_tb_or_leprosy",
        "label": "Screen for TB or Leprosy",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "client_type_and_screening_location_new",
            "text": "Client Type,  and Screening Location",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "client_type_and_screening_location"
          },
          {
            "key": "screen_for_tb_or_leprosy",
            "text": "Screen for TB or Leprosy?",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "screen_for_tb_or_leprosy"
          },
          {
            "key": "tested_for_hiv",
            "text": "Tested for HIV",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "tested_for_hiv"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        }
      },
      {
        "key": "living_with_or_near_tb_leprosy_patient",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "living_with_or_near_tb_leprosy_patient",
        "label": "Living with, or near TB/Leprosy Patient",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "yes",
            "text": "Yes",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "yes"
          },
          {
            "key": "no",
            "text": "No",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "patient_type",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "patient_type",
        "label": "Patient Type",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "tb",
            "text": "TB",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "tb"
          },
          {
            "key": "leprosy",
            "text": "Leprosy",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "leprosy"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "is_it_a_kvp_client",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "is_it_a_kvp_client",
        "label": "Is it a KVP Client?",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "Yes",
            "text": "yes",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "yes"
          },
          {
            "key": "no",
            "text": "No",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "choose_kvp_group",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "choose_kvp_group",
        "label": "Choose KVP Group",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "health_care_providers",
            "text": "Health Care Providers",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "health_care_providers"
          },
          {
            "key": "miners",
            "text": "Miners",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "miners"
          },
          {
            "key": "pwud",
            "text": "PWUD",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "pwud"
          },
          {
            "key": "fisherfolks",
            "text": "Fisherfolks",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "fisherfolks"
          },
          {
            "key": "refugees",
            "text": "Refugees",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "refugees"
          },
          {
            "key": "migrants",
            "text": "Migrants",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "migrants"
          },
          {
            "key": "slum_dwellers",
            "text": "Slum Dwellers",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "slum_dwellers"
          },
          {
            "key": "others_specify",
            "text": "Others (Specify)",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "others_specify"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },

      {
        "key": "specify_others_kvp",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "specify_others_kvp",
        "type": "edit_text",
        "hint": "Please Specify",
        "v_required": {
          "value": true,
          "err": "Please specify Others"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "screening_location",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "screening_location",
        "label": "Screening Location",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "addo_pharmacy",
            "text": "ADDO/Pharmacy",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "addo_pharmacy"
          },
          {
            "key": "traditional_healers",
            "text": "Traditional Healers",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "traditional_healers"
          },
          {
            "key": "public_meeting",
            "text": "Public Meeting",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "public_meeting"
          },
          {
            "key": "church_mosque",
            "text": "Church/Mosque",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "church_mosque"
          },
          {
            "key": "school_college",
            "text": "School/College",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "School/College"
          },
          {
            "key": "market",
            "text": "Market",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "market"
          },
          {
            "key": "other_specify",
            "text": "Other (Specify)",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "other_specify"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "specify_others",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "specify_others",
        "type": "edit_text",
        "hint": "Please Specify",
        "v_required": {
          "value": true,
          "err": "Please specify the phone number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },

      {
        "key": "tb_or_leprosy",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "tb_or_leprosy",
        "label": "TB/Leprosy",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "TB",
            "text": "TB",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "TB"
          },
          {
            "key": "Leprosy",
            "text": "Leprosy",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "Leprosy"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },

      {
        "key": "tb_screening_symptoms",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "tb_screening_symptoms",
        "label": "TB Screening Symptoms",
        "text_color": "#000000",
        "type": "check_box",
        "options": [
          {
            "key": "cough",
            "text": "Cough",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "cough"
          },
          {
            "key": "cough_with_blood",
            "text": "Cough With Blood",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "cough_with_blood"
          },
          {
            "key": "fever",
            "text": "Fever",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "Fever"
          },
          {
            "key": "weight_loss",
            "text": "Weight Loss",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "weight_loss"
          },
          {
            "key": "excessive_night_sweats",
            "text": "Excessive Night Sweats",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "excessive_night_sweats"
          },
          {
            "key": "extra_pulmonary_tb_symptoms",
            "text": "Extra Pulmonary TB Symptoms (Specify)",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "extra_pulmonary_tb_symptoms"
          },
          {
            "key": "no_symptoms",
            "text": "No Symptoms",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no_symptoms"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "leprosy_screening_symptoms",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "leprosy_screening_symptoms",
        "label": "Leprosy Screening Symptoms",
        "text_color": "#000000",
        "type": "check_box",
        "options": [
          {
            "key": "one_or_more_pale_reddish",
            "text": "One or more pale or reddish, hypopigmented patch(es) on the skin with diminished or loss of sensation ",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "one_or_more_pale_reddish"
          },
          {
            "key": "painless_swelling_or_lumps_on_the_face_and_or_earlobes",
            "text": "Painless swelling or lumps on the face and/or earlobes",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "painless_swelling_or_lumps_on_the_face_and_or_earlobes"
          },
          {
            "key": "enlarged_and_or_tender_nerves",
            "text": "Enlarged and/or tender nerves",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "enlarged_and_or_tender_nerves"
          },
          {
            "key": "weekness_of_eyelids_hands_and_or_feet",
            "text": "Weekness of eyelids, hands and/or feet",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "eekness_of_eyelids_hands_and_or_feet"
          },
          {
            "key": "burning_sensation_of_the_skin_numbness_or_tingling_of_hands_or_feet",
            "text": "Burning sensation of the skin, numbness or tingling of hands/or feet",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "burning_sensation_of_the_skin_numbness_or_tingling_of_hands_or_feet"
          },
          {
            "key": "painless_wounds_or_burns_on_the_hands_and_or_feet",
            "text": "Painless wounds or burns on the hands and/or feet",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "painless_wounds_or_burns_on_the_hands_and_or_feet"
          },
          {
            "key": "no_symptoms",
            "text": "No Symptoms",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no_symptoms"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "tested_for_hiv_new",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "tested_for_hiv",
        "label": "Tested for HIV",
        "text_color": "#000000",
        "type": "native_radio",
        "options": [
          {
            "key": "yes",
            "text": "Yes",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "yes"
          },
          {
            "key": "no",
            "text": "No",
            "openmrs_entity_parent": "",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Please select an answer"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },

      {
        "key": "tbleprosy_client_id",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "tbleprosy_client_id",
        "type": "mask_edit_text",
        "mask": "111890-1 #### 2023",
        "mask_hint": "123456789123",
        "allowed_chars": "0123456789",
        "hint": "tbleprosy Client Id e.g 111890-1 001 2023",
        "edit_type": "number",
        "v_max_length": {
          "value": "18",
          "is_fixed_size": "true",
          "err": "Please enter a valid tbleprosy client id"
        },
        "v_regex": {
          "value": "^\\d{6}-\\d{1} \\d{4} \\d{4}$",
          "err": "tbleprosy Client ID should be of the format (111890-1 0001 2023)"
        },
        "v_required": {
          "value": true,
          "err": "Please enter a valid tbleprosy client ID"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment_relevance.yml"
            }
          }
        }
      },
      {
        "key": "reffered_from_others",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "reffered_from_others",
        "type": "edit_text",
        "hint": "Others",
        "v_required": {
          "value": "true",
          "err": "Please specify"
        },
        "relevance": {
          "step1:reffered_from": {
            "type": "string",
            "ex": "equalTo(., \"others\")"
          }
        }
      },
      {
        "key": "enrollment_date",
        "type": "edit_text",
        "hidden": "true",
        "openmrs_entity_id": "enrollment_date",
        "openmrs_entity": "concept",
        "openmrs_entity_parent": "",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "tbleprosy_enrollment.yml"
            }
          }
        }
      }
    ]
  }
}